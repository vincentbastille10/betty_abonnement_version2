# api/index.py
# Expose la même application WSGI sous deux noms attendus par Vercel:
# - app
# - handler
#
# Si l'import de ton app principale échoue, on renvoie une page d'erreur lisible.

try:
    from app import app as flask_app  # doit exister dans app.py
except Exception as e:
    from flask import Flask
    flask_app = Flask(__name__)

    @flask_app.get("/")
    def _import_error():
        return f"Erreur d'import de app.py : {e}", 500

# Expose pour tous les runtimes possibles
app = flask_app
handler = flask_app
